{"ast":null,"code":"var _jsxFileName = \"/Users/jackieennis/Coding/ClimateCabinet/accountability-map/src/App.js\";\nimport React, { useRef, useEffect } from 'react';\nimport './App.css';\nimport Logo from './txrising-primary.png';\nimport scoreChartpng from './scorechart.png';\nimport mapboxgl from 'mapbox-gl';\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"mapbox-gl/dist/mapbox-gl.js\";\nimport Places from 'places.js';\nimport rd3 from 'react-d3-library'; // mapbox access token from mapbox.com\n\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_TOKEN; // variable to define the zoom lvl of when to go from county view to tract view\n\nconst zoomThreshold = 9; // the map application\n\nfunction App() {\n  const mapboxElRef = useRef(null);\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: mapboxElRef.current,\n      style: \"mapbox://styles/mapbox/light-v10\",\n      // style of the basemap\n      // TODO: change the basemap style to only show county name and city name\n      center: [-99.514301, 31.616819],\n      // centers the view of the map\n      minZoom: 5,\n      // disables zooming out past zoom lvl 5\n      pitchWithRotate: false,\n      // disables rotating the map\n      dragRotate: false // disables rotating the map\n      // maxBounds: [[],[]] // view boundaries for the map\n\n    }); // adds geocoder\n    // });\n    // TODO: figure out how to add Algolia to query the map\n    // (https://community.algolia.com/places/examples.html?utm_medium=social-owned&utm_source=GitHub&utm_campaign=places%20repository)\n    // var placesAutocomplete = new Places({\n    //   appId: process.env.REACT_APP_APPID,\n    //   apiKey: process.env.REACT_APP_APIKEY,\n    //   container: document.querySelector('#input-map')\n    // });\n    //\n    // placesAutocomplete.on('change', e => console.log(e.suggestion))\n    // disables rotating the map\n\n    map.touchZoomRotate.disableRotation(); // adds zooming in and out buttoms\n    // map.addControl(new mapboxgl.NavigationControl());\n    // create variables\n\n    var hoveredStateId = null;\n    var nameDisplay = document.getElementById('name');\n    var scoreDisplay = document.getElementById('score'); // basemap and layers\n\n    map.on('load', function () {\n      // Adding data sources to the map\n      // source for the county data\n      map.addSource('countyjson', {\n        'type': 'geojson',\n        'data': 'https://raw.githubusercontent.com/shelbygreen/env-racism-map/master/county_population_score.json',\n        'generateId': true // TODO: fix highlight bug from generateId. should probably add id field\n        // to the json and make sure its within the properties\n\n      }); // source for the tract data\n\n      map.addSource('tractjson', {\n        'type': 'geojson',\n        'data': 'https://raw.githubusercontent.com/shelbygreen/env-racism-map/master/tract_population_score.json',\n        'generateId': true\n      }); // Adding layers to the map\n      // choropleth layer for the county data\n\n      map.addLayer({\n        'id': 'countyjson-fill',\n        'type': 'fill',\n        'source': 'countyjson',\n        'layout': {},\n        'maxzoom': zoomThreshold,\n        // switches to tract view at this zoom lvl\n        'paint': {\n          'fill-color': {\n            property: 'score',\n            // colors coded by the 'score' attribute\n            stops: [[1, \"rgb(253,231,37)\"], [2, \"rgb(180,222,44)\"], [3, \"rgb(109,205,89)\"], [4, \"rgb(53,183,121)\"], [5, \"rgb(31,158,137)\"], [6, \"rgb(38,130,142)\"], [7, \"rgb(49,104,142)\"], [8, \"rgb(62,74,137)\"], [9, \"rgb(72,40,120)\"], [10, \"rgb(68,1,84)\"]]\n          },\n          'fill-opacity': ['case', ['boolean', ['feature-state', 'hover'], false], 0.7, 0.7]\n        }\n      }, 'waterway-label'); // choropleth layer for the tract data\n\n      map.addLayer({\n        'id': 'tractjson-fill',\n        'type': 'fill',\n        'source': 'tractjson',\n        'layout': {},\n        'minzoom': zoomThreshold,\n        'paint': {\n          'fill-color': {\n            property: 'score',\n            stops: [[1, \"rgb(253,231,37)\"], [2, \"rgb(180,222,44)\"], [3, \"rgb(109,205,89)\"], [4, \"rgb(53,183,121)\"], [5, \"rgb(31,158,137)\"], [6, \"rgb(38,130,142)\"], [7, \"rgb(49,104,142)\"], [8, \"rgb(62,74,137)\"], [9, \"rgb(72,40,120)\"], [10, \"rgb(68,1,84)\"]]\n          },\n          'fill-opacity': ['case', ['boolean', ['feature-state', 'hover'], false], 0.7, 0.7]\n        }\n      }, 'waterway-label'); // highlight layer for the county data - adds thick white border to county\n\n      map.addLayer({\n        'id': 'countyjson-highlight',\n        'type': 'line',\n        'source': 'countyjson',\n        'layout': {},\n        'maxzoom': zoomThreshold,\n        'paint': {\n          'line-width': ['case', ['boolean', ['feature-state', 'hover'], false], 3, 0.4],\n          'line-color': \"#FFFFFF\"\n        }\n      }, 'waterway-label'); // highlight layer for the tract data - adds thick white border to tract\n\n      map.addLayer({\n        'id': 'tractjson-highlight',\n        'type': 'line',\n        'source': 'tractjson',\n        'layout': {},\n        'minzoom': zoomThreshold,\n        'paint': {\n          'line-width': ['case', ['boolean', ['feature-state', 'hover'], false], 3, 0.5],\n          'line-color': \"#FFFFFF\"\n        }\n      }, 'waterway-label');\n    }); // Populating sidebar and highlight on hover feature\n    // TODO: add city to tract title\n\n    map.on('mousemove', 'countyjson-fill', function (e) {\n      // change the pointer style when on a region\n      map.getCanvas().style.cursor = 'pointer'; // set variables equal to the current feature's details\n\n      var regionName = e.features[0].properties.name;\n      var regionScore = e.features[0].properties.score;\n\n      if (e.features) {\n        // if the feature exists, populate the sidebar\n        nameDisplay.textContent = regionName;\n        scoreDisplay.textContent = regionScore; // add a highlight\n\n        if (hoveredStateId) {\n          map.setFeatureState({\n            source: 'countyjson',\n            id: hoveredStateId\n          }, {\n            hover: false\n          });\n        }\n\n        hoveredStateId = e.features[0].id;\n        map.setFeatureState({\n          source: 'countyjson',\n          id: hoveredStateId\n        }, {\n          hover: true\n        });\n      }\n    });\n    map.on('mousemove', 'tractjson-fill', function (e) {\n      // change the pointer style when on a region\n      map.getCanvas().style.cursor = 'pointer'; // set variables equal to the current feature's details\n\n      var regionName = e.features[0].properties.name;\n      var regionScore = e.features[0].properties.score;\n\n      if (e.features) {\n        // if the feature exists, populate the sidebar\n        nameDisplay.textContent = regionName;\n        scoreDisplay.textContent = regionScore; // add a highlight\n\n        if (hoveredStateId) {\n          map.setFeatureState({\n            source: 'tractjson',\n            id: hoveredStateId\n          }, {\n            hover: false\n          });\n        }\n\n        hoveredStateId = e.features[0].id;\n        map.setFeatureState({\n          source: 'tractjson',\n          id: hoveredStateId\n        }, {\n          hover: true\n        });\n      }\n    });\n    map.on('mouseleave', 'countyjson-fill', function () {\n      // change the pointer style\n      map.getCanvas().style.cursor = 'default'; // Remove the information from the previously hovered feature from the sidebar\n      // nameDisplay.textContent = '';\n      // scoreDisplay.textContent = '';\n\n      if (hoveredStateId) {\n        map.setFeatureState({\n          source: 'countyjson',\n          id: hoveredStateId\n        }, {\n          hover: false\n        });\n      }\n\n      hoveredStateId = null;\n    });\n    map.on('mouseleave', 'tractjson-fill', function () {\n      map.getCanvas().style.cursor = 'default'; // Remove the information from the previously hovered feature from the sidebar\n\n      nameDisplay.textContent = 'Select a region for details';\n      scoreDisplay.textContent = '';\n\n      if (hoveredStateId) {\n        map.setFeatureState({\n          source: 'tractjson',\n          id: hoveredStateId\n        }, {\n          hover: false\n        });\n      }\n\n      hoveredStateId = null;\n    }); // load initial data for the sidebar\n\n    map.onLoad = document.getElementById(\"name\").innerHTML = \"Select a region to see details\";\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"navbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: mapboxElRef,\n    id: \"mapContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"side\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"ui left fixed vertical menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"ui left floated image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    class: \"logo\",\n    src: Logo,\n    width: \"100px\",\n    height: \"100px\",\n    alt: \"logo for TX Rising\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    class: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 15\n    }\n  }, \"Environmental Racism Mapping Tool\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"map-overlay-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"ui fluid selection dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 19\n    }\n  }, \"Change Basemap\"), /*#__PURE__*/React.createElement(\"i\", {\n    class: \"dropdown icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 21\n    }\n  }, \"Cumulative Risk Score\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 21\n    }\n  }, \"Poverty\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 21\n    }\n  }, \"Race\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 21\n    }\n  }, \"Educational Attainment\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 21\n    }\n  }, \"Ozone Concentration\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 21\n    }\n  }, \"Traffic Density\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 21\n    }\n  }, \"Diesel Emissions\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"name\",\n    id: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 22\n    }\n  }, \"Cumulative Risk Score\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: scoreChartpng,\n    id: \"chart\",\n    width: \"290px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"annotation\",\n    style: {\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 17\n    }\n  }, \"Low\"), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"annotation\",\n    style: {\n      float: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 17\n    }\n  }, \"High\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      paddingTop: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 22\n    }\n  }, \"Population Characteristics Score\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: scoreChartpng,\n    id: \"chart\",\n    width: \"290px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"annotation\",\n    style: {\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 17\n    }\n  }, \"Low\"), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"annotation\",\n    style: {\n      float: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 17\n    }\n  }, \"High\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"ui accordion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"dropdown icon small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 21\n    }\n  }), \"Show Indicators Data\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    class: \"transition visible\",\n    style: {\n      display: 'block !important'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 21\n    }\n  }, \"A dog is a type of domesticated animal. Known for its loyalty and faithfulness, it can be found as a welcome guest in many households across the world.\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      paddingTop: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 22\n    }\n  }, \"Pollution Burden Score\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: scoreChartpng,\n    id: \"chart\",\n    width: \"290px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"scoreChart\", {\n    id: \"chart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"annotation\",\n    style: {\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 17\n    }\n  }, \"Low\"), /*#__PURE__*/React.createElement(\"span\", {\n    class: \"annotation\",\n    style: {\n      float: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 17\n    }\n  }, \"High\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"ui accordion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"dropdown icon small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 21\n    }\n  }), \"Show Indicators Data\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    class: \"transition visible\",\n    style: {\n      display: 'block !important'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 21\n    }\n  }, \"A dog is a type of domesticated animal. Known for its loyalty and faithfulness, it can be found as a welcome guest in many households across the world.\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    class: \"name2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 17\n    }\n  }, \"Filter Layers\")))), /*#__PURE__*/React.createElement(\"h2\", {\n    class: \"score\",\n    id: \"score\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jackieennis/Coding/ClimateCabinet/accountability-map/src/App.js"],"names":["React","useRef","useEffect","Logo","scoreChartpng","mapboxgl","Places","rd3","accessToken","process","env","REACT_APP_MAPBOX_TOKEN","zoomThreshold","App","mapboxElRef","map","Map","container","current","style","center","minZoom","pitchWithRotate","dragRotate","touchZoomRotate","disableRotation","hoveredStateId","nameDisplay","document","getElementById","scoreDisplay","on","addSource","addLayer","property","stops","e","getCanvas","cursor","regionName","features","properties","name","regionScore","score","textContent","setFeatureState","source","id","hover","onLoad","innerHTML","textAlign","float","paddingTop","display"],"mappings":"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","sourcesContent":["import React, {useRef, useEffect} from 'react';\nimport './App.css';\nimport Logo from './txrising-primary.png';\nimport scoreChartpng from './scorechart.png';\nimport mapboxgl from 'mapbox-gl';\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport \"mapbox-gl/dist/mapbox-gl.js\";\nimport Places from 'places.js';\nimport rd3 from 'react-d3-library'\n\n\n// mapbox access token from mapbox.com\nmapboxgl.accessToken = process.env.REACT_APP_MAPBOX_TOKEN;\n\n// variable to define the zoom lvl of when to go from county view to tract view\nconst zoomThreshold = 9;\n\n// the map application\nfunction App() {\n  const mapboxElRef = useRef(null);\n\n  useEffect(() => {\n    const map = new mapboxgl.Map({\n      container: mapboxElRef.current,\n      style: \"mapbox://styles/mapbox/light-v10\", // style of the basemap\n      // TODO: change the basemap style to only show county name and city name\n      center: [-99.514301, 31.616819], // centers the view of the map\n      minZoom: 5, // disables zooming out past zoom lvl 5\n      pitchWithRotate: false, // disables rotating the map\n      dragRotate: false // disables rotating the map\n      // maxBounds: [[],[]] // view boundaries for the map\n    });\n\n    // adds geocoder\n    // });\n    // TODO: figure out how to add Algolia to query the map\n    // (https://community.algolia.com/places/examples.html?utm_medium=social-owned&utm_source=GitHub&utm_campaign=places%20repository)\n    // var placesAutocomplete = new Places({\n    //   appId: process.env.REACT_APP_APPID,\n    //   apiKey: process.env.REACT_APP_APIKEY,\n    //   container: document.querySelector('#input-map')\n    // });\n    //\n    // placesAutocomplete.on('change', e => console.log(e.suggestion))\n\n    // disables rotating the map\n    map.touchZoomRotate.disableRotation();\n\n    // adds zooming in and out buttoms\n    // map.addControl(new mapboxgl.NavigationControl());\n\n    // create variables\n    var hoveredStateId = null;\n    var nameDisplay = document.getElementById('name');\n    var scoreDisplay = document.getElementById('score');\n\n    // basemap and layers\n    map.on('load', function() {\n      // Adding data sources to the map\n      // source for the county data\n      map.addSource('countyjson', {\n        'type': 'geojson',\n        'data': 'https://raw.githubusercontent.com/shelbygreen/env-racism-map/master/county_population_score.json',\n        'generateId': true\n        // TODO: fix highlight bug from generateId. should probably add id field\n        // to the json and make sure its within the properties\n      });\n\n      // source for the tract data\n      map.addSource('tractjson', {\n        'type': 'geojson',\n        'data': 'https://raw.githubusercontent.com/shelbygreen/env-racism-map/master/tract_population_score.json',\n        'generateId': true\n      });\n\n      // Adding layers to the map\n      // choropleth layer for the county data\n      map.addLayer({\n        'id': 'countyjson-fill',\n        'type': 'fill',\n        'source': 'countyjson',\n        'layout': {},\n        'maxzoom': zoomThreshold, // switches to tract view at this zoom lvl\n        'paint': {\n          'fill-color': {\n            property: 'score', // colors coded by the 'score' attribute\n            stops: [\n              [1, \"rgb(253,231,37)\"],\n              [2, \"rgb(180,222,44)\"],\n              [3, \"rgb(109,205,89)\"],\n              [4, \"rgb(53,183,121)\"],\n              [5, \"rgb(31,158,137)\"],\n              [6, \"rgb(38,130,142)\"],\n              [7, \"rgb(49,104,142)\"],\n              [8, \"rgb(62,74,137)\"],\n              [9, \"rgb(72,40,120)\"],\n              [10, \"rgb(68,1,84)\"]\n            ]\n          },\n          'fill-opacity': [\n            'case',\n            ['boolean', ['feature-state', 'hover'], false],\n            0.7,\n            0.7\n          ]\n        },\n      }, 'waterway-label');\n\n      // choropleth layer for the tract data\n      map.addLayer({\n        'id': 'tractjson-fill',\n        'type': 'fill',\n        'source': 'tractjson',\n        'layout': {},\n        'minzoom': zoomThreshold,\n        'paint': {\n          'fill-color': {\n            property: 'score',\n            stops: [\n              [1, \"rgb(253,231,37)\"],\n              [2, \"rgb(180,222,44)\"],\n              [3, \"rgb(109,205,89)\"],\n              [4, \"rgb(53,183,121)\"],\n              [5, \"rgb(31,158,137)\"],\n              [6, \"rgb(38,130,142)\"],\n              [7, \"rgb(49,104,142)\"],\n              [8, \"rgb(62,74,137)\"],\n              [9, \"rgb(72,40,120)\"],\n              [10, \"rgb(68,1,84)\"]\n            ]\n          },\n            'fill-opacity': [\n              'case',\n              ['boolean', ['feature-state', 'hover'], false],\n              0.7,\n              0.7\n            ]\n        }\n      }, 'waterway-label');\n\n      // highlight layer for the county data - adds thick white border to county\n      map.addLayer({\n        'id': 'countyjson-highlight',\n        'type': 'line',\n        'source': 'countyjson',\n        'layout': {},\n        'maxzoom': zoomThreshold,\n        'paint': {\n          'line-width': [\n            'case',\n            ['boolean', ['feature-state', 'hover'], false],\n            3,\n            0.4\n          ],\n          'line-color': \"#FFFFFF\"\n        }\n      }, 'waterway-label');\n\n      // highlight layer for the tract data - adds thick white border to tract\n      map.addLayer({\n        'id': 'tractjson-highlight',\n        'type': 'line',\n        'source': 'tractjson',\n        'layout': {},\n        'minzoom': zoomThreshold,\n        'paint': {\n          'line-width': [\n            'case',\n            ['boolean', ['feature-state', 'hover'], false],\n            3,\n            0.5\n          ],\n          'line-color': \"#FFFFFF\"\n        }\n      }, 'waterway-label');\n\n    });\n\n    // Populating sidebar and highlight on hover feature\n    // TODO: add city to tract title\n    map.on('mousemove', 'countyjson-fill', function(e) {\n      // change the pointer style when on a region\n      map.getCanvas().style.cursor = 'pointer';\n\n      // set variables equal to the current feature's details\n      var regionName = e.features[0].properties.name;\n      var regionScore = e.features[0].properties.score;\n\n      if (e.features) {\n        // if the feature exists, populate the sidebar\n        nameDisplay.textContent = regionName;\n        scoreDisplay.textContent = regionScore;\n\n        // add a highlight\n        if (hoveredStateId) {\n          map.setFeatureState({\n            source: 'countyjson',\n            id: hoveredStateId\n          }, {\n            hover: false\n          });\n        }\n\n        hoveredStateId = e.features[0].id;\n\n        map.setFeatureState({\n          source: 'countyjson',\n          id: hoveredStateId\n        },{\n          hover: true\n        });\n\n      }\n    });\n\n    map.on('mousemove', 'tractjson-fill', function(e) {\n      // change the pointer style when on a region\n      map.getCanvas().style.cursor = 'pointer';\n\n      // set variables equal to the current feature's details\n      var regionName = e.features[0].properties.name;\n      var regionScore = e.features[0].properties.score;\n\n      if (e.features) {\n        // if the feature exists, populate the sidebar\n        nameDisplay.textContent = regionName;\n        scoreDisplay.textContent = regionScore;\n\n        // add a highlight\n        if (hoveredStateId) {\n          map.setFeatureState({\n            source: 'tractjson',\n            id: hoveredStateId\n          }, {\n            hover: false\n          });\n        }\n\n        hoveredStateId = e.features[0].id;\n\n        map.setFeatureState({\n          source: 'tractjson',\n          id: hoveredStateId\n        },{\n          hover: true\n        });\n\n      }\n    });\n\n    map.on('mouseleave', 'countyjson-fill', function () {\n      // change the pointer style\n      map.getCanvas().style.cursor = 'default';\n\n      // Remove the information from the previously hovered feature from the sidebar\n      // nameDisplay.textContent = '';\n      // scoreDisplay.textContent = '';\n\n      if (hoveredStateId) {\n        map.setFeatureState({\n          source: 'countyjson',\n          id: hoveredStateId\n        }, {\n          hover: false\n        });\n      }\n      hoveredStateId = null;\n    });\n\n    map.on('mouseleave', 'tractjson-fill', function () {\n      map.getCanvas().style.cursor = 'default';\n\n      // Remove the information from the previously hovered feature from the sidebar\n      nameDisplay.textContent = 'Select a region for details';\n      scoreDisplay.textContent = '';\n\n      if (hoveredStateId) {\n        map.setFeatureState({\n          source: 'tractjson',\n          id: hoveredStateId\n        }, {\n          hover: false\n        });\n      }\n      hoveredStateId = null;\n    });\n\n    // load initial data for the sidebar\n    map.onLoad = document.getElementById(\"name\").innerHTML = \"Select a region to see details\";\n\n});\n\n  return (\n    <div class=\"App\">\n      <div id=\"navbar\"></div>\n      <main>\n        <div\n          ref={mapboxElRef}\n          id=\"mapContainer\"></div>\n\n        <div id=\"side\">\n          <div class=\"ui left fixed vertical menu\">\n            <div class=\"item\">\n              <div class=\"ui left floated image\">\n                <img class=\"logo\" src={Logo} width=\"100px\" height=\"100px\" alt=\"logo for TX Rising\"></img>\n              </div>\n              <h1 class=\"title\">Environmental Racism Mapping Tool</h1>\n            </div>\n            <div class=\"item\">\n              <div class='map-overlay-inner'>\n                <div class=\"ui fluid selection dropdown\">\n                  <div class=\"text\">Change Basemap</div>\n                  <i class=\"dropdown icon\"></i>\n                  <div class=\"menu\">\n                    <option value=\"\">Cumulative Risk Score</option>\n                    <option value=\"1\">Poverty</option>\n                    <option value=\"0\">Race</option>\n                    <option value=\"0\">Educational Attainment</option>\n                    <option value=\"0\">Ozone Concentration</option>\n                    <option value=\"0\">Traffic Density</option>\n                    <option value=\"0\">Diesel Emissions</option>\n                  </div>\n                  </div>\n                </div>\n            </div>\n            <div class=\"item\">\n              {/*<div class=\"ui search\"> */}\n                {/* <div class=\"ui icon input\"> */}\n                  {/* <input class=\"prompt\" type=\"text\" placeholder=\"Search for county or place...\"></input> */}\n                  {/* <input type=\"search\" id=\"input-map\" class=\"form-control\" placeholder=\"Where are we going?\" /> */}\n                  {/* <i class=\"search icon\"></i> */}\n                {/* </div> */}\n                {/* <div class=\"searchResults\"></div> */}\n              {/* </div> */}\n              <div class=\"name\" id=\"name\"></div>\n              <div>\n                <div><h2>Cumulative Risk Score</h2>\n                <img src={scoreChartpng} id=\"chart\" width=\"290px\"/>\n                <span class=\"annotation\" style={{textAlign: 'left'}}>Low</span>\n                <span class=\"annotation\" style={{float: 'right'}}>High</span>\n                <div><h2 style={{paddingTop: '15px'}}>Population Characteristics Score</h2>\n                <img src={scoreChartpng} id=\"chart\" width=\"290px\"/>\n                <span class=\"annotation\" style={{textAlign: 'left'}}>Low</span>\n                <span class=\"annotation\" style={{float: 'right'}}>High</span>\n                <div class=\"ui accordion\">\n                  <div class=\"title\">\n                    <i class=\"dropdown icon small\"></i>\n                    Show Indicators Data\n                  </div>\n                  <div class=\"content\">\n                    <p class=\"transition visible\" style={{display: 'block !important'}}>A dog is a type of domesticated animal. Known for its loyalty and faithfulness, it can be found as a welcome guest in many households across the world.</p>\n                  </div>\n                </div>\n                </div>\n                </div>\n                <div><h2 style={{paddingTop: '15px'}}>Pollution Burden Score</h2>\n                <img src={scoreChartpng} id=\"chart\" width=\"290px\"/>\n                <scoreChart id=\"chart\"/>\n                <span class=\"annotation\" style={{textAlign: 'left'}}>Low</span>\n                <span class=\"annotation\" style={{float: 'right'}}>High</span>\n                <div class=\"ui accordion\">\n                  <div class=\"title\">\n                    <i class=\"dropdown icon small\"></i>\n                    Show Indicators Data\n                  </div>\n                  <div class=\"content\">\n                    <p class=\"transition visible\" style={{display: 'block !important'}}>A dog is a type of domesticated animal. Known for its loyalty and faithfulness, it can be found as a welcome guest in many households across the world.</p>\n                  </div>\n                </div>\n                </div>\n              </div>\n              </div>\n              <div class=\"item\">\n                <h1 class=\"name2\">Filter Layers</h1>\n              </div>\n          </div>\n        </div>\n        <h2 class=\"score\" id=\"score\"></h2>\n      </main>\n  </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}